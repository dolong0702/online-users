{"ast":null,"code":"import * as signalR from '@microsoft/signalr';\nimport * as i0 from \"@angular/core\";\nexport class SignalrService {\n  constructor() {\n    this.hubConnection = new signalR.HubConnectionBuilder().withUrl(\"http://localhost:5000/onlineUsersHub\") // Đường dẫn đến Hub trên server\n    .build();\n    this.startConnection(); // Gọi hàm startConnection() để kết nối SignalR khi service được khởi tạo.\n  }\n\n  startConnection() {\n    this.hubConnection.start().then(() => {\n      console.log('SignalR connection started.');\n    }).catch(err => console.error('Error while starting SignalR connection: ', err));\n  }\n  getHubConnection() {\n    return this.hubConnection;\n  }\n}\nSignalrService.ɵfac = function SignalrService_Factory(t) {\n  return new (t || SignalrService)();\n};\nSignalrService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: SignalrService,\n  factory: SignalrService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,OAAO,KAAKA,OAAO,MAAM,oBAAoB;;AAK7C,OAAM,MAAOC,cAAc;EAEzBC;IACE,IAAI,CAACC,aAAa,GAAG,IAAIH,OAAO,CAACI,oBAAoB,EAAE,CACpDC,OAAO,CAAC,sCAAsC,CAAC,CAAC;IAAA,CAChDC,KAAK,EAAE;IAEV,IAAI,CAACC,eAAe,EAAE,CAAC,CAAC;EAC1B;;EACQA,eAAe;IACrB,IAAI,CAACJ,aAAa,CAACK,KAAK,EAAE,CAACC,IAAI,CAAC,MAAK;MACnCC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;IAC5C,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACI,KAAK,CAAC,2CAA2C,EAAED,GAAG,CAAC,CAAC;EAClF;EACOE,gBAAgB;IACrB,OAAO,IAAI,CAACZ,aAAa;EAC3B;;AAhBWF,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;SAAdA,cAAc;EAAAe,SAAdf,cAAc;EAAAgB,YAFb;AAAM","names":["signalR","SignalrService","constructor","hubConnection","HubConnectionBuilder","withUrl","build","startConnection","start","then","console","log","catch","err","error","getHubConnection","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Admin\\source\\repos\\onlineUsers\\onlineUsers\\ClientApp\\src\\app\\services\\signalr.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport * as signalR from '@microsoft/signalr';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SignalrService {\n  private hubConnection: signalR.HubConnection;\n  constructor() {\n    this.hubConnection = new signalR.HubConnectionBuilder()\n      .withUrl(\"http://localhost:5000/onlineUsersHub\") // Đường dẫn đến Hub trên server\n      .build();\n\n    this.startConnection(); // Gọi hàm startConnection() để kết nối SignalR khi service được khởi tạo.\n  }\n  private startConnection() {\n    this.hubConnection.start().then(() => {\n      console.log('SignalR connection started.');\n    }).catch(err => console.error('Error while starting SignalR connection: ', err));\n  }\n  public getHubConnection(): signalR.HubConnection {\n    return this.hubConnection;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}